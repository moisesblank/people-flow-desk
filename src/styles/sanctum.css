/* ============================================
 * üååüî• SANCTUM CSS OMEGA ‚Äî ESTILOS DE PROTE√á√ÉO N√çVEL NASA üî•üåå
 * ANO 2300 ‚Äî BLINDAGEM VISUAL ABSOLUTA
 * ESTE √â O PROJETO DA VIDA DO MESTRE MOIS√âS MEDEIROS
 * ============================================
 *
 * üìç MAPA DE URLs DEFINITIVO (MONO-DOM√çNIO v2.0):
 *   üåê N√ÉO PAGANTE: pro.moisesmedeiros.com.br/ + /comunidade
 *   üë®‚Äçüéì ALUNO BETA: pro.moisesmedeiros.com.br/alunos (PAGANTE)
 *   üëî FUNCION√ÅRIO: pro.moisesmedeiros.com.br/gestaofc (STAFF)
 *   üëë OWNER: TODAS (moisesblank@gmail.com = MASTER)
 *   ‚ùå gestao.moisesmedeiros.com.br REMOVIDO EM 27/12/2025
 *
 * ============================================ */

/* ============================================
 * VARI√ÅVEIS CSS
 * ============================================ */
:root {
  --sanctum-watermark-opacity: 0.08;
  --sanctum-watermark-color: currentColor;
  --sanctum-watermark-font-size: clamp(10px, 1.2vw, 14px);
  --sanctum-watermark-rotation: -25deg;
  --sanctum-blur-amount: 20px;
  --sanctum-transition-duration: 0.3s;
  --sanctum-z-index-watermark: 999999;
  --sanctum-z-index-overlay: 999998;
  --sanctum-z-index-content: 1;
}

/* ============================================
 * SUPERF√çCIE PROTEGIDA BASE
 * ============================================ */
.sanctum-protected-surface {
  position: relative;
  user-select: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  -webkit-touch-callout: none !important;
  -webkit-tap-highlight-color: transparent !important;
}

.sanctum-protected-surface::selection {
  background: transparent !important;
}

.sanctum-protected-surface *::selection {
  background: transparent !important;
}

/* ============================================
 * WATERMARK CONTAINER
 * ============================================ */
.sanctum-watermark-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  pointer-events: none;
  z-index: var(--sanctum-z-index-watermark);
  opacity: var(--sanctum-watermark-opacity);
  color: var(--sanctum-watermark-color);
  mix-blend-mode: multiply;
}

/* Dark mode adjustment */
.dark .sanctum-watermark-container {
  mix-blend-mode: screen;
  opacity: 0.06;
}

@media (prefers-color-scheme: dark) {
  .sanctum-watermark-container {
    mix-blend-mode: screen;
    opacity: 0.06;
  }
}

/* ============================================
 * WATERMARK CELLS
 * ============================================ */
.sanctum-watermark-cell {
  position: absolute;
  white-space: nowrap;
  font-size: var(--sanctum-watermark-font-size);
  font-family: "SF Mono", "Fira Code", "Consolas", monospace;
  font-weight: 500;
  letter-spacing: 0.02em;
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.1);
  pointer-events: none;
  user-select: none;
  -webkit-user-select: none;
  transform: rotate(var(--sanctum-watermark-rotation));
  /* üé¨ PERFORMANCE: Removido sanctum-watermark-drift 60s infinite - watermark agora est√°tica */
}

/* DISABLED: sanctum-watermark-drift anima√ß√£o de 60s era desnecess√°ria
@keyframes sanctum-watermark-drift {
  0%, 100% {
    transform: translateY(0) rotate(var(--sanctum-watermark-rotation));
  }
  50% {
    transform: translateY(10px) rotate(calc(var(--sanctum-watermark-rotation) + 2deg));
  }
}
*/

/* ============================================
 * WATERMARK OVERLAY CENTRAL
 * ============================================ */
.sanctum-watermark-overlay {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(-45deg);
  white-space: nowrap;
  font-size: clamp(16px, 3vw, 32px);
  font-weight: 700;
  opacity: 0.03;
  letter-spacing: 0.5em;
  text-transform: uppercase;
  pointer-events: none;
  user-select: none;
}

/* ============================================
 * WATERMARK DE CANTO
 * ============================================ */
.sanctum-watermark-corner {
  position: absolute;
  bottom: 10px;
  right: 10px;
  font-size: 10px;
  font-weight: 600;
  opacity: 0.15;
  font-family: monospace;
  pointer-events: none;
  user-select: none;
}

/* ============================================
 * BLUR QUANDO INATIVO
 * ============================================ */
.sanctum-blurred {
  filter: blur(var(--sanctum-blur-amount)) !important;
  transition: filter var(--sanctum-transition-duration) ease-in-out;
}

.sanctum-blurred .sanctum-watermark-container {
  opacity: 0;
}

/* ============================================
 * ANTI-SCREENSHOT OVERLAY
 * ============================================ */
.sanctum-anti-screenshot-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 30;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.01) 2px,
    rgba(0, 0, 0, 0.01) 4px
  );
  mix-blend-mode: multiply;
}

/* ============================================
 * VISUALIZADOR DE PDF
 * ============================================ */
.secure-pdf-viewer {
  background: hsl(var(--background));
  border-radius: 8px;
}

.secure-pdf-viewer img {
  pointer-events: none !important;
  user-select: none !important;
  -webkit-user-drag: none !important;
  -khtml-user-drag: none !important;
  -moz-user-drag: none !important;
  -o-user-drag: none !important;
}

/* ============================================
 * HOLOGRAM TEXT (Canvas)
 * ============================================ */
.hologram-text-container {
  position: relative;
  user-select: none !important;
  -webkit-user-select: none !important;
  -webkit-touch-callout: none !important;
}

.hologram-canvas {
  display: block;
  width: 100%;
  pointer-events: none;
}

.hologram-shield {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  background: transparent;
  z-index: 1;
}

/* ============================================
 * üö´ BLOQUEIO TOTAL DE IMPRESS√ÉO üö´
 * ============================================ */
@media print {
  /* Esconder TODO o conte√∫do protegido */
  .sanctum-protected-surface,
  .sanctum-protected-surface *,
  [data-sanctum-protected],
  [data-sanctum-protected] *,
  .secure-pdf-viewer,
  .secure-pdf-viewer *,
  .hologram-text-container,
  .hologram-text-container * {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    width: 0 !important;
    height: 0 !important;
    overflow: hidden !important;
  }

  /* Mensagem de bloqueio */
  body::before {
    content: "";
    display: block !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    background: white !important;
    z-index: 999999998 !important;
  }

  body::after {
    content: "‚ö†Ô∏è IMPRESS√ÉO BLOQUEADA ‚ö†Ô∏è\A\A‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\A\AEste documento √© protegido por direitos autorais.\AA impress√£o foi bloqueada para proteger o conte√∫do.\A\AProf. Mois√©s Medeiros\Amoisesmedeiros.com.br\A\A‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\A\AC√≥digo de Rastreio: SANCTUM-BLOCK-PRINT\A¬© 2024-2025 Todos os direitos reservados";
    display: block !important;
    position: fixed !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    font-size: 18px !important;
    line-height: 1.8 !important;
    text-align: center !important;
    padding: 60px !important;
    color: #dc2626 !important;
    font-weight: bold !important;
    white-space: pre-wrap !important;
    z-index: 999999999 !important;
    background: white !important;
    border: 4px solid #dc2626 !important;
    border-radius: 16px !important;
    max-width: 80% !important;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
    font-family: system-ui, -apple-system, sans-serif !important;
  }

  /* Remover absolutamente tudo exceto a mensagem */
  html > *:not(body) {
    display: none !important;
  }
}

/* ============================================
 * ANIMA√á√ïES DE LOADING
 * ============================================ */
@keyframes sanctum-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.sanctum-loading {
  animation: sanctum-pulse 1.5s ease-in-out infinite;
}

/* ============================================
 * RESPONSIVIDADE
 * ============================================ */
@media (max-width: 768px) {
  :root {
    --sanctum-watermark-font-size: clamp(8px, 2vw, 12px);
    --sanctum-watermark-opacity: 0.06;
  }

  .sanctum-watermark-overlay {
    font-size: clamp(12px, 2.5vw, 20px);
    letter-spacing: 0.3em;
  }
}

@media (max-width: 480px) {
  :root {
    --sanctum-watermark-font-size: 8px;
  }

  .sanctum-watermark-corner {
    display: none;
  }
}

/* ============================================
 * üì± PROTE√á√ïES ULTRA ESPEC√çFICAS PARA MOBILE/TOUCH
 * Compat√≠vel: iOS Safari, Android Chrome, Samsung Browser, Firefox Mobile
 * ============================================ */
 
/* Bloquear long-press menu (iOS Safari/Android Chrome) */
.sanctum-protected-surface,
.sanctum-protected-surface *,
[data-sanctum-protected],
[data-sanctum-protected] * {
  -webkit-touch-callout: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
  -webkit-tap-highlight-color: transparent !important;
  -webkit-text-size-adjust: none !important;
  touch-action: manipulation !important;
}

/* Bloquear gestos de zoom/pinch em √°reas protegidas */
.sanctum-no-zoom {
  touch-action: pan-x pan-y !important;
}

/* Bloquear menu de contexto em imagens (long-press) - TODOS OS DISPOSITIVOS */
.sanctum-protected-surface img,
.sanctum-protected-surface video,
.sanctum-protected-surface canvas,
.sanctum-protected-surface iframe,
.sanctum-protected-surface object,
.sanctum-protected-surface embed,
[data-sanctum-protected] img,
[data-sanctum-protected] video,
[data-sanctum-protected] canvas,
[data-sanctum-protected] iframe,
[data-sanctum-protected] object,
[data-sanctum-protected] embed {
  -webkit-touch-callout: none !important;
  -webkit-user-drag: none !important;
  -khtml-user-drag: none !important;
  -moz-user-drag: none !important;
  -o-user-drag: none !important;
  user-drag: none !important;
  pointer-events: none !important;
  -webkit-user-select: none !important;
  user-select: none !important;
}

/* Desabilitar 3D Touch/Force Touch preview (iOS) */
.sanctum-protected-surface a,
.sanctum-protected-surface button,
[data-sanctum-protected] a,
[data-sanctum-protected] button {
  -webkit-touch-callout: none !important;
}

/* Bloquear sele√ß√£o via highlight em Android */
.sanctum-protected-surface::selection,
.sanctum-protected-surface *::selection,
[data-sanctum-protected]::selection,
[data-sanctum-protected] *::selection {
  background: transparent !important;
  color: inherit !important;
}

/* Prote√ß√£o para iPad/Tablet espec√≠fica */
@media (min-width: 768px) and (max-width: 1024px) and (pointer: coarse) {
  .sanctum-protected-surface,
  [data-sanctum-protected] {
    touch-action: manipulation !important;
  }
  
  :root {
    --sanctum-watermark-font-size: clamp(10px, 1.5vw, 14px);
  }
}

/* Prote√ß√£o para dispositivos touch de alta DPI (Retina, etc.) */
@media (pointer: coarse) and (-webkit-min-device-pixel-ratio: 2) {
  .sanctum-watermark-cell {
    font-size: clamp(9px, 1.8vw, 13px);
  }
}

/* Prote√ß√£o em modo landscape mobile */
@media (max-height: 500px) and (orientation: landscape) {
  .sanctum-watermark-overlay {
    font-size: clamp(10px, 2vw, 16px);
  }
  
  :root {
    --sanctum-watermark-opacity: 0.05;
  }
}

/* Prote√ß√£o espec√≠fica para iPhone SE/small phones */
@media (max-width: 375px) {
  :root {
    --sanctum-watermark-font-size: 7px;
    --sanctum-watermark-opacity: 0.04;
  }
  
  .sanctum-watermark-corner {
    display: none;
  }
}

/* Prote√ß√£o para Android Chrome (bloquear download de imagens) */
.sanctum-protected-surface img,
[data-sanctum-protected] img {
  -webkit-overflow-scrolling: touch;
  -webkit-transform: translateZ(0);
}

/* Bloquear screenshot assistive (Samsung/Xiaomi specific features) */
.sanctum-protected-surface,
[data-sanctum-protected] {
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
  will-change: transform;
}

/* iOS Safe Area protection */
@supports (padding: max(0px)) {
  .sanctum-protected-surface {
    padding-left: max(0px, env(safe-area-inset-left));
    padding-right: max(0px, env(safe-area-inset-right));
  }
}

/* ============================================
 * MODO ESCURO
 * ============================================ */
.dark .sanctum-anti-screenshot-overlay {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(255, 255, 255, 0.01) 2px,
    rgba(255, 255, 255, 0.01) 4px
  );
  mix-blend-mode: screen;
}

@media (prefers-color-scheme: dark) {
  .sanctum-anti-screenshot-overlay {
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(255, 255, 255, 0.01) 2px,
      rgba(255, 255, 255, 0.01) 4px
    );
    mix-blend-mode: screen;
  }
}

/* ============================================
 * OTIMIZA√á√ïES DE PERFORMANCE
 * ============================================ */
.sanctum-protected-surface {
  will-change: filter;
}

.sanctum-watermark-container {
  will-change: opacity;
  contain: layout style;
}

.sanctum-watermark-cell {
  contain: layout style paint;
}

/* ============================================
 * ACESSIBILIDADE
 * ============================================ */
@media (prefers-reduced-motion: reduce) {
  .sanctum-watermark-cell {
    animation: none;
  }

  .sanctum-blurred {
    transition: none;
  }
}
