project_id = "fyikfsasudgzsjmumdlw"

# ============================================
# üõ°Ô∏è LEI VI - IMUNIDADE SIST√äMICA v3.1
# FUN√á√ïES COM verify_jwt ESTRAT√âGICO
# ============================================

# ============================================
# üî¥ WEBHOOKS - SEM JWT (validam internamente)
# ============================================

[functions.webhook-curso-quimica]
verify_jwt = false

[functions.hotmart-webhook-processor]
verify_jwt = false

[functions.hotmart-fast]
verify_jwt = false

# REMOVED: [functions.wordpress-webhook] - WordPress removido 2025-12-28

[functions.whatsapp-webhook]
verify_jwt = false

[functions.webhook-handler]
verify_jwt = false

[functions.webhook-receiver]
verify_jwt = false

# ============================================
# üî¥ TURNSTILE/DEVICE - SEM JWT (anti-bot)
# ============================================

[functions.verify-turnstile]
verify_jwt = false

[functions.validate-device]
verify_jwt = false

# ============================================
# üî¥ RATE LIMIT GATEWAY - SEM JWT (infraestrutura)
# ============================================

[functions.rate-limit-gateway]
verify_jwt = false

# ============================================
# üî¥ VIOLA√á√ïES - SEM JWT (recebe reports an√¥nimos)
# ============================================

[functions.video-violation-omega]
verify_jwt = false

[functions.sanctum-report-violation]
verify_jwt = false

[functions.notify-suspicious-device]
verify_jwt = false

# ============================================
# üü° FUN√á√ïES INTERNAS - PROTEGIDAS POR HEADER
# verify_jwt = false MAS validam internamente
# ============================================

[functions.orchestrator]
verify_jwt = false

[functions.queue-worker]
verify_jwt = false

[functions.event-router]
verify_jwt = false

[functions.c-create-beta-user]
verify_jwt = false

[functions.c-grant-xp]
verify_jwt = false

[functions.c-handle-refund]
verify_jwt = false

[functions.generate-context]
verify_jwt = false

# ============================================
# üü¢ FUN√á√ïES COM JWT OBRIGAT√ìRIO
# ============================================

# --- Relat√≥rios e APIs sens√≠veis ---
[functions.reports-api]
verify_jwt = true

[functions.send-report]
verify_jwt = true

[functions.backup-data]
verify_jwt = true

[functions.generate-weekly-report]
verify_jwt = true

[functions.send-weekly-report]
verify_jwt = true

# --- Email e 2FA ---
[functions.send-email]
verify_jwt = true

# üî¥ 2FA - SEM JWT (chamado durante login, valida internamente)
[functions.send-2fa-code]
verify_jwt = false

[functions.verify-2fa-code]
verify_jwt = false

[functions.send-notification-email]
verify_jwt = false

[functions.notify-owner]
verify_jwt = true

[functions.invite-employee]
verify_jwt = true

# --- Cria√ß√£o de Acesso Oficial (PARTE 10) ---
[functions.c-create-official-access]
verify_jwt = true

# --- IAs e Conte√∫do Premium ---
[functions.ai-tutor]
verify_jwt = true

[functions.ai-assistant]
verify_jwt = true

[functions.ai-tramon]
verify_jwt = true

[functions.ia-gateway]
verify_jwt = true

[functions.chat-tramon]
verify_jwt = true

[functions.generate-ai-content]
verify_jwt = true

# --- V√≠deo e Conte√∫do Protegido ---
[functions.secure-video-url]
verify_jwt = true

[functions.secure-api-proxy]
verify_jwt = true

[functions.get-panda-signed-url]
verify_jwt = true

[functions.video-authorize-omega]
verify_jwt = true

# --- Livros e Assets ---
[functions.genesis-upload]
verify_jwt = true

[functions.genesis-book-upload]
verify_jwt = true

[functions.book-page-signed-url]
verify_jwt = true

[functions.book-page-manifest]
verify_jwt = true

[functions.book-chat-ai]
verify_jwt = true

[functions.sanctum-asset-manifest]
verify_jwt = true

[functions.enqueue-transmutation]
verify_jwt = true

# --- Flashcards e Estudo ---
[functions.reschedule-flashcard]
verify_jwt = true

[functions.parse-anki-apkg]
verify_jwt = true

# --- OCR e Documentos ---
[functions.extract-document]
verify_jwt = true

[functions.ocr-receipt]
verify_jwt = true

# --- Google e Calend√°rio ---
[functions.google-calendar]
verify_jwt = true

# --- APIs e Gateways ---
[functions.api-gateway]
verify_jwt = true

[functions.api-fast]
verify_jwt = true

# --- Syncs e Automa√ß√µes ---
[functions.youtube-api]
verify_jwt = true

[functions.youtube-sync]
verify_jwt = true

[functions.youtube-live]
verify_jwt = true

[functions.instagram-sync]
verify_jwt = true

[functions.facebook-ads-sync]
verify_jwt = true

[functions.tiktok-sync]
verify_jwt = true

[functions.google-analytics-sync]
verify_jwt = true

[functions.social-media-stats]
verify_jwt = true

# REMOVED: [functions.wordpress-api] - WordPress removido 2025-12-28
# REMOVED: [functions.sync-wordpress-users] - WordPress removido 2025-12-28

# --- Tarefas e Automa√ß√µes Internas ---
[functions.task-reminder]
verify_jwt = true

[functions.check-vencimentos]
verify_jwt = true

[functions.atualizar-status-alunos]
verify_jwt = true

[functions.automacoes]
verify_jwt = true

# --- Valida√ß√£o CPF Real (Receita Federal) ---
# üõ°Ô∏è P0.6 - AGORA COM JWT OBRIGAT√ìRIO (API externa com custo + PII)
[functions.validate-cpf-real]
verify_jwt = true

# --- Corre√ß√£o de Emerg√™ncia (P0) ---
# üõ°Ô∏è Apenas OWNER pode executar (valida internamente)
[functions.fix-missing-beta-access]
verify_jwt = true

# --- RD Station Email Gateway ---
# üü¢ Novo gateway centralizado de emails via RD Station
[functions.rd-send-email]
verify_jwt = false

# --- Correios API e Notifica√ß√µes ---
# üü¢ Correios integrado
[functions.correios-api]
verify_jwt = true

[functions.correios-notify]
verify_jwt = true

# --- Email para Alunos (Admin) ---
[functions.send-student-email]
verify_jwt = true

# --- Expira√ß√£o de Beta (Cron/Scheduled) ---
# üü° Chamado por cron ou manualmente, valida internamente
[functions.process-beta-expirations]
verify_jwt = false

# --- Admin Ban User (DOGMA XI) ---
# üü¢ Requer JWT - Apenas Admin/Owner pode banir
[functions.admin-ban-user]
verify_jwt = true

# --- Admin Delete User (DOGMA SUPREMO: EXCLUIR = ANIQUILAR) ---
# üî¥ Requer JWT - Apenas Admin/Owner pode DELETAR PERMANENTEMENTE
[functions.admin-delete-user]
verify_jwt = true

# --- BLOCO 1 FIX: Registro de Dispositivo Server-Side ---
# üü¢ Requer JWT - Hash gerado no servidor com pepper secreto
[functions.register-device-server]
verify_jwt = true

# --- BLOCO 5: Revoga√ß√£o de Dispositivo + Sess√µes ---
# üü¢ Requer JWT - Revoga dispositivo E invalida sess√µes associadas
[functions.revoke-device]
verify_jwt = true

# --- Refresh Global Performance (Cron/Scheduled) ---
# üü° Chamado por cron, sem JWT (valida internamente via service key)
[functions.refresh-global-performance]
verify_jwt = false

# --- Infer√™ncia de Taxonomia de Quest√µes (IA) ---
# üü¢ Requer JWT - Apenas gest√£o pode usar
[functions.infer-question-taxonomy]
verify_jwt = true

# --- Extra√ß√£o de Dados Qu√≠micos de Imagens (IA) ---
# üü¢ Requer JWT - Extrai informa√ß√µes qu√≠micas de imagens
[functions.extract-chemical-from-image]
verify_jwt = true

# --- Log de Interven√ß√µes de IA em Quest√µes ---
# üü¢ Requer JWT - Registra interven√ß√µes de IA
[functions.log-question-ai-intervention]
verify_jwt = true

# --- Token de Primeiro Acesso (NUNCA expira) ---
# üî¥ SEM JWT - Valida√ß√£o pelo token persistente
[functions.validate-first-access-token]
verify_jwt = false

# üü¢ Requer JWT - Apenas Admin/Owner pode reenviar
[functions.resend-first-access-token]
verify_jwt = true

# --- Gera√ß√£o Inteligente de Sum√°rio (Livros-Web) ---
# üü¢ Requer JWT - Apenas Owner/Admin pode gerar sum√°rios
[functions.generate-book-toc]
verify_jwt = true

# --- Importa√ß√£o em Massa com Valida√ß√£o CPF (Receita Federal) ---
# üü¢ Requer JWT - Apenas Owner/Admin pode importar alunos
[functions.bulk-import-students-cpf]
verify_jwt = true
